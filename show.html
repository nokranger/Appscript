<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Show</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/bootstrap-grid.css">
    <link rel="stylesheet" href="css/bootstrap_1.css">
    <!-- <link rel="stylesheet" href="css/social.css"> -->
    <link rel="shortcut icon" type="image/png" href="img/favicon.png" />

    <link rel="stylesheet" href="css/social_2.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="google" content="notranslate" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet">
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.5.0/css/all.css' integrity='sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU'
        crossorigin='anonymous'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css'>
    <link rel="stylesheet" href="css/show.css">
    <script type="text/javascript" src="js/session.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Kanit" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js"></script>
<style>
        .grow img {
            transition: 1s ease;
        }

        .grow img:hover {
            -webkit-transform: scale(1.2);
            -ms-transform: scale(1.2);
            transform: scale(1.2);
            transition: 1s ease;
        }

        .img-profile {
            width: 170px;
            height: 200px;
            border-radius: 8px;
        }      
</style>

    <script>
        if (Session.get("status") != 1) {
            window.location.href = 'login_admin.html';
        }
    </script>
    <script>
        function exit() {
            exit = document.getElementById("logout").value
            // console.log(exit)
            var confirmexit = confirm('Do you want to logout?')
            if (exit == "logout") {
                if (confirm) {
                    // console.log("exit")
                    // alert("Logout successfully");
                    Session.set("status", '0');
                    window.location = "login_admin.html"; // Redirecting to other page.
                    return false;
                }
            }
        }
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script>
        var a, b, cc, d = "";
        var script_url2 = "https://script.google.com/macros/s/AKfycbx11chHd4HssEp2hg_66KlJfrm2u5zd4dDbLmLCxGAa0ymMyoU3/exec";
        function insert_value() {
            set()
            for (var i = 0; i < dataget.length; i++) {
                datagett[i] = dataget[i].ID.split('UID')
                datagetsplit = 'uid' + datagett[i][1]
                if ((dataget[i].ID) == getURL('id') || datagetsplit == getURL('id')) {
                    urlf = "https://www.facebook.com/";
                    urlg = "https://www.github.com/";
                    urlln = "https://www.linkedin.com/in/";
                    urlline = "https://line.me/ti/p/~";
                    splitpath = (dataget[i].Picture).split("\\");
                    // drive = urldrive + (dataget[i].Picture);


                    var id1 = dataget[i].ID
                    var name = dataget[i].First_Name
                    var lname = dataget[i].Last_Name
                    var tel = dataget[i].Telephone_Number
                    var mail = dataget[i].Email_Address
                    var pic = "C:\\fakepath\\" + splitpath[2]
                    // console.log(pic)
                    var token = dataget[i].Token
                    var job = dataget[i].Position
                    var sal = dataget[i].Salary
                    break;
                }
            }

            var tn = $("#tn").val();

            var dob = $("#dob").val();

            var fb = $("#fb").val();
            var line = $("#line").val();
            var ig = $("#ig").val();
            var aic = $("#aic").val();
            var ca = $("#ca").val();
            var ei = $("#ei").val();
            var gpa = $("#gpa").val();
            var sp = $("#sp").val();
            var tfp = $("#tfp").val();
            var spack = $("#spack").val();

            var git = "";
            var link = $("#link").val();
            var major = $("#major").val();
            var minor = $("#minor").val();
            var about = $("#about").val();

            var exp = $("#exp").val();
            var ref = $("#ref").val();

            var height = $("#height").val();
            var weight = $("#weight").val();
            var age = $("#age").val();

            var db = $("#db").val();
            var os = $("#os").val();
            var cen = $("#cen").val();
            var job_l = $("#job_l").val();
            var swd = $("#swd").val();
            var dop = $("#dop").val();
            var cs = $("#cs").val();
            var port = $("#port").val();
            var status = "accept"
            a = name;
            b = lname;
            cc = job;
            d = mail;

            var url = script_url2 + "?callback&name=" + name + "&id=" + id1 + "&lname=" + lname + "&tn=" + tn + "&dob=" + dob + "&tel=" + tel + "&fb=" + fb + "&line=" + line + "&ig=" + ig + "&aic=" + aic + "&ca=" + ca + "&ei=" + ei + "&gpa=" + gpa + "&sp=" + sp + "&tfp=" + tfp + "&spack=" + spack + "&mail=" + mail + "&git=" + git + "&link=" + link + "&major=" + major + "&minor=" + minor + "&about=" + about + "&pic=" + pic + "&exp=" + exp + "&ref=" + ref + "&token=" + token + "&height=" + height + "&weight=" + weight + "&age=" + age + "&job=" + job + "&sal=" + sal + "&db=" + db + "&os=" + os + "&cen=" + cen + "&job_l=" + job_l + "&swd=" + swd + "&dop=" + dop + "&cs=" + cs + "&port=" + port + "&status=" + status + "&action=insert";

            document.getElementById("myform").action = "mailer_invitation.php";
            // document.getElementById("myform").action = "mailer_invitation.php";
            var request = jQuery.ajax({
                crossDomain: true,
                url: url,
                method: "GET",
                dataType: "jsonp"
            });

            // console.log('ok')
        }
    </script>
    <script>
        function confirmaccept() {
            // console.log('confirm')

            var c = confirm('Do you want to call for a job interview ?')
            // set()
            if (c) {
                insert_value()

                document.getElementById('nname').value = a
                document.getElementById('llname').value = b
                document.getElementById('cur_job').value = cc
                document.getElementById('emaill').value = d
                $(this).closest().submit()
            }
        }
    </script>

    <script>

        var dataget;
        var urljson = "https://script.googleusercontent.com/macros/echo?user_content_key=YqyDZdxWEJS-1VD3HmJyFI9BvM0A5G0iphXgnOTUPULhWNs15odVCFd5sYNaDSHk2eRS8CMAEH7Dz4211F5C_if3ieXETnZMm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnESenDeG1a2U5A9HgblmFIqgY1h708_S0WEz0UAVMSP1MOyWK_cu-E6ACoz3t86BEnltYe52Wkzn&lib=Mih9OC5pj5Vkn2Axmh0oYykMWxYDvAMv8";
        $.getJSON(urljson, function (data) {
            dataget = data.user
            something();
            set();
        });
        function something() {
        }
    </script>
    <script>
        function timeout() {
            setTimeout(function () { window.location = "login_admin.html"; }, 900000);
            return hello()
        }
    </script>
    <script>
        var dataget_show;
        var urlgetjson = "https://script.googleusercontent.com/macros/echo?user_content_key=Rhovnr2SMBbvOfc4gj8HcVozrPaXrDxEtPYmOLd9RcFdMm5gXjR7LMnqTgDIZRhUyi-BGOS2KaKxJWyaqbXZ3FVKOn5lH11zm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnJ-6DN9EUk9ZPOj-B-R2zwTP9H44krKccRubK-dBVR4cw6EuNmReUpW9E-853UlZs6OIp7sEUsJ2&lib=MeIt-7TFX0jvpkH2yxhFycIkDlmeTZjk5";
        $.getJSON(urlgetjson, function (data) {
            dataget_show = data.user
            showuser()
        });
        var a_user, acc_user, m_user = 0;
        function showuser() {
            a_user = dataget_show[0].insert
            acc_user = dataget_show[0].accept
            m_user = dataget_show[0].delete
            document.getElementById('a_user').innerHTML = a_user
            document.getElementById('acc_user').innerHTML = acc_user
            document.getElementById('m_user').innerHTML = m_user
            // console.log(a_user)
            // console.log(dataget_show[0].insert)
        }
    </script>

</head>

<body onload="timeout()">
    <form id="myform" name="myform" method="POST" actions="mailer_invitation.php" onsubmit="javascript:confirmaccept()"
        enctype="multipart/form-data">
        <input type="hidden" name="ttn" id="ttn"></input>
        <input type="hidden" name="nname" id="nname"></input>
        <input type="hidden" name="llname" id="llname"></input>
        <input type="hidden" name="cur_job" id="cur_job"></input>
        <input type="hidden" name="emaill" id="emaill"></input>
        <div class="container">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-8">
                    </div>
                    <div class="col-4">
                        <div class="d-flex justify-content-end">
                            <div>
                                <br>
                                <button class="btn-danger" type="button" id="logout" value="logout" onclick="exit()">Logout</button></div>
                        </div>
                    </div>
                </div>


            </div>
            <div style="margin:10px;border: solid 2px #E0e0e0;">
                <div class="card-group">
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="d-flex no-block align-items-center">
                                        <div>
                                            <h3><i class="icon-screen-desktop"></i></h3>
                                            <p class="text-muted">All USER</p>
                                        </div>
                                        <div class="ml-auto">
                                            <h2 class="counter text-primary" id="a_user" name="a_user"></h2>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-12">
                                        <div class="progress">
                                            <div class="progress-bar bg-primary" role="progressbar" style="width: 85%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div> -->
                            </div>
                        </div>
                    </div>
                    <!-- Column -->
                    <!-- Column -->
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="d-flex no-block align-items-center">
                                        <div>
                                            <h3><i class="icon-note"></i></h3>
                                            <p class="text-muted">USER ACCEPTED</p>
                                        </div>
                                        <div class="ml-auto">
                                            <h2 class="counter text-warning" id="acc_user" name="acc_user"></h2>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-12">
                                        <div class="progress">
                                            <div class="progress-bar bg-warning" role="progressbar" style="width: 85%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div> -->
                            </div>
                        </div>
                    </div>
                    <!-- Column -->
                    <!-- Column -->
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="d-flex no-block align-items-center">
                                        <div>
                                            <h3><i class="icon-doc"></i></h3>
                                            <p class="text-muted">MISSING USER</p>
                                        </div>
                                        <div class="ml-auto">
                                            <h2 class="counter text-info" id="m_user" name="m_user"></h2>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-12">
                                        <div class="progress">
                                            <div class="progress-bar bg-info" role="progressbar" style="width: 85%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div> -->
                            </div>
                        </div>
                    </div>
                    <!-- Column -->
                    <!-- Column -->
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="d-flex no-block align-items-center">
                                        <div>
                                            <h3><i class="icon-bag"></i></h3>
                                            <p class="text-muted">LATEST USER</p>
                                        </div>
                                        <div class="ml-auto">
                                            <a href="#" id="l_t" name="l_t">
                                                <h2 class="counter text-success" id="l_user" name="l_user"></h2>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-12">
                                        <div class="progress">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 85%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="colorful-4" style="margin:10px;border: solid 2px #E0e0e0;">
                <div class="container-fluid">
                    <div class="row">
                        <div class="colsm-12 col-md-12 col-lg-9 col-xl-9">
                            <div style="border-bottom: solid 2px #E0e0e0;">
                                <div class="d-flex justify-content-start">
                                    <div>
                                        <b>ID : </b><label id="uid"></label>
                                        <b>Name : </b><label id="tn"></label>&nbsp;<label id="name"></label>&nbsp;
                                        <label id="lname"></label>&nbsp;
                                    </div>
                                </div>
                            </div>
                            <div style="border-bottom: solid 2px #E0e0e0;">
                                <div class="d-flex justify-content-start">
                                    <div>
                                        <b>Tel. : </b><a id="tel" href="" style="color: white"></a><br>
                                        <b>E-mail : </b><label id="mail"></label><br>
                                        <b>About you : </b><label id="about"></label><br>
                                        <b>Position : </b><label id="job"></label>
                                        <b>Organization : </b><label id="cen"></label><br>
                                        <b>Working position : </b><label id="job_l"></label><br>
                                        <b>Start work date : </b><label id="swd"></label>
                                        <b>Date of departure : </b><label id="dop"></label><br>
                                        <b>Salary : </b><label id="cs"></label><br>
                                        <label><b>Experience : </b></label>
                                        <label name="exp" id="exp"></label><br>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="colsm-3 col-md-3 col-lg-3 col-xl-3">
                            <div class="d-flex justify-content-start grow" style="margin-top:10px">
                                <img id="pic" class="img-profile" src="uploads/asdasd.PNG" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6">
                            <div>
                                <div class="d-flex justify-content-start">
                                    <div>
                                        <br><b>Programing language : </b><label id="sp"></label><br>
                                        <b>Tool for development : </b><label id="tfp"></label><br>
                                        <b>Software package : </b><label id="spack"></label><br>
                                        <b>Operating System : </b><label id="os"></label><br>
                                        <b>Database : </b><label id="db"></label><br>
                                        <b>Social : </b><label></label><a id="fb" href="" target="_blank" class="fa fa-facebook-official"></a><a
                                            id="ln" href="" target="_blank" class="fa fa-linkedin-square"></a><a id="git"
                                            href="" target="_blank" class="fa fa-github"></a><a id="line" href=""
                                            target="_blank" class="fab fa-line"></a><br>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6">
                            <div>
                                <div class="d-flex justify-content-start">
                                    <div>
                                        <br><label><b>Education : </b><label><br>
                                                <dt class="dt-tag">
                                                    <b>University : </b><label id="university"></label></dt>
                                                <dd><b>Degree : </b><label id="degree"></label></dd>
                                                <dd><b>Faculty : </b><label id="faculty"></label></dd>
                                                <dd><b>Major : </b><label id="major"></label></dd>
                                                <b>Study Start Day : </b><label id="ssd_u"></label><b>Graduation Day :
                                                </b><label id="gd_u"></label><br>
                                                <b>GPA : </b><label id="gpa"></label><br>

                                                <b>Location : </b><label id="location"></label><br>
                                                <b>Reference : </b><label id="ref"></label><br>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-end">
                                <div>
                                    <button class="btn-success" type="submit" id="accept"><i style="margin-right:5px"
                                        class="fa fa-check"></i>Accept</button>
                                    <button class="btn-danger" type="button" onclick="javascript:getpic()" id="pdffile"><i style="margin-right:5px"
                                        class="fa fa-file-pdf-o"></i>Load PDF file</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </form>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-end">
                    <div style="margin:10px;">
                        <!-- <form onsubmit="return getValue('commands')"> -->
                        <b style="color:#696969">Search : </b>
                        <input type="text" name="commands" id="commands" size="12" maxlength="8" />
                        <!-- </form> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="table-wrapper-scroll-y" style=" margin:10px;">
        <!-- <p id="showData"></p> -->
        <table class="table" id="jsonTable" style="visibility:hidden;width: 100%;">
            <thead>
                <tr>
                    <!-- The JSON downloaded from the URL above provides four attributes.-->
                    <th class="table-primary">Picture</th>
                    <th class="table-primary">UID</th>
                    <th class="table-primary">Position</th>
                    <th class="table-primary">Detail</th>
                </tr>
            </thead>
        </table>
    </div>
    <script>
        $(document).ready(function () {
            $("#commands").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#jsonTable tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>

    <script>
        var datagett = []
        var countpdf =0;
        var urlf, urlg, urlln, urlline, urldrive, face, git, link, line, drive, coun;
        document.getElementById("accept").disabled = true;
        document.getElementById("pdffile").disabled = true;
        function set() {
            
            for (var i = 0; i < dataget.length; i++) {
                datagett[i] = dataget[i].ID.split('UID')
                datagetsplit = 'uid' + datagett[i][1]
                coun = i
                countpdf = i;
                if ((dataget[i].ID) == getURL('id') || datagetsplit == getURL('id')) {
                    document.getElementById("accept").disabled = false;
                    document.getElementById("pdffile").disabled = false;
                    get_degree()
                    get_faculty()
                    get_major()
                    urlf = "https://www.facebook.com/";
                    urlg = "https://www.github.com/";
                    urlln = "https://www.linkedin.com/in/";
                    urlline = "https://line.me/ti/p/~";
                    urldrive = "https://drive.google.com/uc?id=";
                    splitpath = (dataget[i].Picture).split("\\");
                    face = urlf + (dataget[i].Facebook)
                    git = urlg + (dataget[i].Github);
                    link = urlln + (dataget[i].Linkedin);
                    line = urlline + (dataget[i].Line);
                    // drive = urldrive + (dataget[i].Picture);
                    document.getElementById("uid").innerHTML = (dataget[i].ID);
                    if(dataget[i].Title_Name == 0){
                        document.getElementById("tn").innerHTML = "";
                    }else{
                        document.getElementById("tn").innerHTML = (dataget[i].Title_Name);
                    }
                    
                    document.getElementById("name").innerHTML = (dataget[i].First_Name);
                    document.getElementById("lname").innerHTML = (dataget[i].Last_Name);
                    document.getElementById("pic").src = 'uploads/' + splitpath[2];






                    tel = "tel:0" + dataget[i].Telephone_Number
                    document.getElementById("tel").href = tel;
                    document.getElementById("tel").innerHTML = "0" + dataget[i].Telephone_Number;
                    document.getElementById("mail").innerHTML = (dataget[i].Email_Address);
                    document.getElementById("ref").innerHTML = (dataget[i].Reference);

                    document.getElementById("university").innerHTML = (dataget[i].Educational_institution_u);
                    // console.log(dataget[i].Degree)
                    if(dataget[i].Degree != 0){
                        document.getElementById("degree").innerHTML = dataget_deu[dataget[i].Degree - 1].name;
                    }else{
                        // console.log('data=0')
                        document.getElementById("degree").innerHTML = "";
                    }
                    if(dataget[i].Faculty != 0 ){
                        document.getElementById("faculty").innerHTML = dataget_fac_u[dataget[i].Faculty - 1].name;
                    }else{
                        document.getElementById("faculty").innerHTML = "";
                    }
                    if(dataget[i].Major!= 0){
                        document.getElementById("major").innerHTML = dataget_major_u[dataget[i].Major - 1].name;
                    }else{
                        document.getElementById("major").innerHTML = "";
                    }
                    
                    

                    // console.log(dataget_major_u[dataget[i].Major - 1].name)
                    localtime4 = moment((dataget[i].Study_start_date_u)).format('YYYY-MM-DD')
                    if(localtime4 == 'Invalid date'){
                        document.getElementById("ssd_u").innerHTML = "";
                    }else{
                        document.getElementById("ssd_u").innerHTML = localtime4;
                    }
                    
                    localtime5 = moment((dataget[i].Graduation_day_u)).format('YYYY-MM-DD')
                    if(localtime5 == 'Invalid date'){
                        document.getElementById("gd_u").innerHTML = "";
                    }else{
                        document.getElementById("gd_u").innerHTML = localtime5;
                    }
                    document.getElementById("gpa").innerHTML = dataget[i].GPA_u;



                    document.getElementById("sp").innerHTML = (dataget[i].Skill_programming);
                    document.getElementById("tfp").innerHTML = (dataget[i].Tool_for_development);
                    document.getElementById("spack").innerHTML = (dataget[i].Software_Package);
                    if(dataget[i].Database == 0){
                        document.getElementById("db").innerHTML = "";
                    }else{
                        document.getElementById("db").innerHTML = (dataget[i].Database);
                    }
                    if(dataget[i].Operating_System == 0){
                        document.getElementById("os").innerHTML = "";
                    }else{
                        document.getElementById("os").innerHTML = (dataget[i].Operating_System);
                    }
                    
                    

                    document.getElementById("fb").href = face;
                    document.getElementById("line").href = line;
                    document.getElementById("ln").href = link;
                    document.getElementById("git").href = git;





                    document.getElementById("location").innerHTML = (dataget[i].Current_Address);
                    document.getElementById("about").innerHTML = (dataget[i].About_you);
                    document.getElementById("exp").innerHTML = (dataget[i].Experiece);
                    document.getElementById("cen").innerHTML = (dataget[i].Current_enterprise);
                    if(dataget[i].Position == 0){
                        document.getElementById("job").innerHTML = "";
                    }else{
                        document.getElementById("job").innerHTML = (dataget[i].Position);
                    }
                    if(dataget[i].Working_position == 0){
                        document.getElementById("job_l").innerHTML = "";
                    }else{
                        document.getElementById("job_l").innerHTML = (dataget[i].Working_position);
                    }
                    
                    localtime2 = moment((dataget[i].Start_work_date)).format('YYYY-MM-DD')
                    localtime3 = moment((dataget[i].Date_of_departure)).format('YYYY-MM-DD')
                    if(localtime2 == 'Invalid date'){
                        document.getElementById("swd").innerHTML = "";
                    }else{
                        document.getElementById("swd").innerHTML = localtime2;
                    }
                    if(localtime3 == 'Invalid date'){
                        document.getElementById("dop").innerHTML = "";
                    }else{
                        document.getElementById("dop").innerHTML = localtime3;
                    }

                    document.getElementById("cs").innerHTML = (dataget[i].Current_salary);
                    
                    
                    break;
                }
            }
            document.getElementById('l_user').innerHTML = dataget[coun].Position;
            document.getElementById('l_t').href = 'show.html?id=' + dataget[coun].ID
        }
        function getURL(objN) {
            if (objN == null) {
                return window.location.href;
            } else {
                objN = objN.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
                var regexS = "[\\?&]" + objN + "=([^&#]*)";
                var regex = new RegExp(regexS);
                var results = regex.exec(window.location.href);
                if (results == null)
                    return "";
                else
                    return results[1];
            }
        }
    </script>
    <script>
        function getValue(id) {
            window.location.href = "";
            text = document.getElementById(id).value; //value of the text input

            window.location.href = 'show.html?id=' + document.getElementById(id).value;
            return false;
        }
    </script>
    <script>
        var jsonget = [];
        $.getJSON(urljson, function (data) {
            for (var i = 0; i < data.user.length; i++) {
                jsonget[i] = [];
                // jsonget[i].ID = JSON.stringify(data.user[i].time_stamp);
                jsonget[i].ID = JSON.stringify(data.user[i].ID);
                jsonget[i].Skill_programming = JSON.stringify(data.user[i].Skill_programming);

                // jsonget[i].ID = JSON.parse(data.user[i].time_stamp);
                jsonget[i].ID = JSON.parse(jsonget[i].ID)
                jsonget[i].Skill_programming = JSON.parse(jsonget[i].Skill_programming)
                // console.log(jsonget[i].ID = JSON.parse(data.user[i].time_stamp))

            }
            something();
            // CreateTableFromJSON();
        });
        function something() {

        }
    </script>
    <script type="text/javascript">
        function hello() {
            //+
            var kk = "show.html?id="
            var json;
            urljson = "https://script.googleusercontent.com/macros/echo?user_content_key=YqyDZdxWEJS-1VD3HmJyFI9BvM0A5G0iphXgnOTUPULhWNs15odVCFd5sYNaDSHk2eRS8CMAEH7Dz4211F5C_if3ieXETnZMm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnESenDeG1a2U5A9HgblmFIqgY1h708_S0WEz0UAVMSP1MOyWK_cu-E6ACoz3t86BEnltYe52Wkzn&lib=Mih9OC5pj5Vkn2Axmh0oYykMWxYDvAMv8";
            $.getJSON(urljson, function (data) {
                json = data.user
                // console.log('dataget')
                // console.log(json)
                $('#jsonTable').css("visibility", "visible");
                $('#jsonTable').append("<tbody>");
                for (var counter = 0; counter < json.length; counter++) {
                    var splitpath = (json[counter].Picture).split("\\");
                    // console.log('uploads/' + splitpath[2])
                    $('#jsonTable').append("<tr><td>" + '<img style="width:90px;height110px;border-radius:50%;" src="' + 'uploads/' + splitpath[2] + '">' + "</td><td>" + '<a href="' + kk + '' + json[counter].ID + '">' + json[counter].ID + '</a>' + "</td><td>" + '<a href="' + kk + '' + json[counter].ID + '">' + json[counter].Position + '</a>' + "</td><td>" + '<a href="' + kk + '' + json[counter].ID + '">' + 'Viewmore...' + '</a>' + "</td></tr>");
                }
                $('#jsonTable').append("</tbody>");
                // $('th').css("border", "1px solid green");
            });
        }
    </script>
    <script>

        dataget_deu = [];
        fetch('json/degree_university.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (myJson) {
                dataget_deu = myJson.degree
                get_degree()
            });

        dataget_fac_u = [];
        fetch('json/faculty_university.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (myJson) {
                dataget_fac_u = myJson.faculty
                get_faculty()
            });
        dataget_major_u = [];
        fetch('json/major_university.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (myJson) {
                dataget_major_u = myJson.major
                get_major()
            });
        function get_degree() {

        }
        function get_faculty() {

        }
        function get_major() {

        }
    </script>
    <script>
        var datagett = []
        var picprofile =  ""
        var dataget;
        function getpic(){
  
            var urljson = "https://script.googleusercontent.com/macros/echo?user_content_key=YqyDZdxWEJS-1VD3HmJyFI9BvM0A5G0iphXgnOTUPULhWNs15odVCFd5sYNaDSHk2eRS8CMAEH7Dz4211F5C_if3ieXETnZMm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnESenDeG1a2U5A9HgblmFIqgY1h708_S0WEz0UAVMSP1MOyWK_cu-E6ACoz3t86BEnltYe52Wkzn&lib=Mih9OC5pj5Vkn2Axmh0oYykMWxYDvAMv8";
            $.getJSON(urljson, function (data) {
              get_degree()
              get_faculty()
              get_major()
              get_de()
              get_high()
              dataget = data.user
              encodeim()
                // loadpdf()
                // console.log(dataget[1].Picture
            });
    
        }

          var  imgECS = ""
          function encodeim(){
               const toDataURL = url => fetch(url)
              .then(response => response.blob())
              .then(blob => new Promise((resolve, reject) => {
                const reader = new FileReader()
                reader.onloadend = () => resolve(reader.result)
                reader.onerror = reject
                reader.readAsDataURL(blob)
              }))
    
    
            toDataURL('img/ECS.jpg')
              .then(dataUrl => {
                imgECS = dataUrl
                encodeim2()
                // console.log('load logo done')
              })
            }
  
            var imgECS2 = ""
            function encodeim2(){
  
  
                const toDataURL = url => fetch(url)
              .then(response => response.blob())
              .then(blob => new Promise((resolve, reject) => {
                const reader = new FileReader()
                reader.onloadend = () => resolve(reader.result)
                reader.onerror = reject
                reader.readAsDataURL(blob)
              }))
            //   console.log(dataget[1].Picture)
              splitpath = (dataget[countpdf].Picture).split("\\");
            //   console.log(dataget[countpdf].Picture)
            //   console.log(countpdf)
              
              picprofile  = 'uploads/'+ splitpath[2]
            //   console.log(picprofile)
            toDataURL(picprofile )
              .then(dataUrl => {
                imgECS2 = dataUrl
                // console.log('load picture profile done')
                loadpdf()
              })
            }
    
    
    
            function loadpdf(){
              var doc = new jsPDF()
            //   console.log('load dataget and convert to pdf done')
              // console.log()
              doc.setFontSize(12)
              ecs = "Enterprise Computing Services (Thailand) Co ,.Ltd."
              address = "333 Lao Peng Nguan Tower 1,16th Floor,"
              address2 = "Soi Choei phuang,Vibhavadee-Rangsit Rd.,"
              address3 = "Chomphon,Chatuchak, Bangkok 10900(Thailand)"
              address4 = ""
              tel = "Tel : (662)880-9494,880-9344,880-9003"
              fax = "Fax : (662880-9344)"
              web = "Web site : https:www.ecs.co.th"
              doc.setFontType('bold')
              doc.text(ecs, 100, 15);
              doc.setFontType('default')
              doc.text(address, 100, 20);
              doc.text(address2, 100, 25);
              doc.text(address3, 100, 30);
              // doc.text(address4, 100, 40);
              doc.text(tel, 100, 35);
              doc.text(fax, 100, 40);
              doc.text(web, 100, 45);
              doc.line(10,55,200,55)
              doc.addImage(imgECS,'JPG',10,10,40.640625,32.54375)
              doc.setFontType('bold')
              doc.text("APPLICATION FOR EMPLOYMEN",70,65)
              // doc.setFontType('default')
              // doc.text("Date : 08 - 02 - 2019",150,75)
              doc.addImage(imgECS2,'JPG',155,70,38.1,50.8)
              doc.setFontType('bold')
              doc.text("Application",10,95)
              doc.setFontType('default')
              if(dataget[countpdf].Position == 0){
                doc.text("    Position to apply : "+ "",10,105)
              }else{
                doc.text("    Position to apply : "+ dataget[countpdf].Position,10,105)
              }

              doc.text("    Expected Compensation : "+ dataget[countpdf].Salary,10,110)
              doc.setFontType('bold')
              doc.text("Personal Data",10,120)
              doc.setFontType('default')
              if(dataget[countpdf].Title_Name == 0){
                doc.text("    Name : "+ "" + dataget[countpdf].First_Name +  " Last : " + dataget[countpdf].Last_Name,10,130)
              }else{
                doc.text("    Name : "+ dataget[countpdf].Title_Name + dataget[countpdf].First_Name +  " Last : " + dataget[countpdf].Last_Name,10,130)
              }
              
              doc.text("    Nickname : ",90,130)
              doc.text("    Age : " + dataget[countpdf].Age,130,130)
              doc.text("    Weight : " + dataget[countpdf].Weight + " kg.",10,135)
              doc.text("    Height : " + dataget[countpdf].Height + " cm.",50,135)
              doc.text("    Address from above : " + dataget[countpdf].Address_in_ID_Card,10,140)
              doc.text("    Present Address : "+ dataget[countpdf].Current_Address,10,145)
              doc.text("    Telephone number : 0"+ dataget[countpdf].Telephone_Number,10,150)
              doc.text("    E-mail : "+ dataget[countpdf].Email_Address,80,150)
              doc.setFontType('bold')
              doc.text("Educational Background",10,160)
              doc.setFontType('default')
              doc.text("    Higher Education Level",10,170)
              if(dataget[countpdf].Major != 0){
                doc.text("    Degree : "+ dataget_fac_u[dataget[countpdf].Faculty - 1].name + '('+dataget_major_u[dataget[countpdf].Major - 1].name+')',10,175)
              }else{
                doc.text("    Degree : "+ "" + '('+""+')',10,175)
              }
              if(dataget[countpdf].Faculty !=0){
                doc.text("    Institue : "+ dataget_fac_u[dataget[countpdf].Faculty - 1].name + " of " + dataget[countpdf].Educational_institution_u,10,180)
              }else{
                doc.text("    Institue : "+ "" + " of " + dataget[countpdf].Educational_institution_u,10,180)
              }
              doc.text("    GPA : "+ dataget[countpdf].GPA_u,10,185)
              localtime7 = moment((dataget[countpdf].Graduation_day_u)).format('YYYY-MM-DD')
              doc.text("    Date of graduation : "+ localtime7,10,190)
              doc.text("    Upper Secondary Level",10,200)
              if(dataget[countpdf].Course != 0){
                doc.text("    Program : "+ dataget_high[dataget[countpdf].Course - 1].name,10,210)
              }else{
                doc.text("    Program : "+ "",10,210)
              }
              doc.text("    Institue : "+ dataget[countpdf].Educational_institution_s,10,205)
              
              doc.text("    GPA : "+ dataget[countpdf].GPA_s,10,215)
              localtime8 = moment((dataget[countpdf].Study_start_date_s)).format('YYYY-MM-DD')
              doc.text("    Date of graduation : "+ localtime8,10,220)
              doc.setFontType('bold')
              doc.text("Computer Skill",10,230)
              doc.setFontType('default')
              doc.text("    Programming Language : "+ dataget[countpdf].Skill_programming,10,240)
              doc.text("    Tool for development : "+ dataget[countpdf].Tool_for_development,110,240)
              if(dataget[countpdf].Database == 0){
                doc.text("    Database : "+ "",10,245)
              }else{
                doc.text("    Database : "+ dataget[countpdf].Database,10,245)
              } 
              if(dataget[countpdf].Operating_System == 0){
                doc.text("    Operating System : "+ "",110,245)   
              }else{
                doc.text("    Operating System : "+ dataget[countpdf].Operating_System,110,245)
              }
              
              doc.setFontType('bold')
              doc.text("Work Experience",10,255)
              doc.setFontType('default')
              doc.text("    Organization : "+ dataget[countpdf].Current_enterprise,10,265)
              if(dataget[countpdf].Working_position == 0){
                doc.text("    Working position : "+ "",90,265)
              }else{
                doc.text("    Working position : "+ dataget[countpdf].Working_position,90,265)
              }
              
              doc.text("    Salary : "+ dataget[countpdf].Current_salary,170,265)
              localtime9 = moment((dataget[countpdf].Start_work_date)).format('YYYY-MM-DD')
              if(localtime9 == 'Invalid date'){
                doc.text("    Start work date : "+ "",10,270)
              }else{
                doc.text("    Start work date : "+ localtime9,10,270)
              }
              
              localtime10 = moment((dataget[countpdf].Date_of_departure)).format('YYYY-MM-DD')
              if(localtime10 == 'Invalid date'){
                doc.text("    Date of departure : "+ "",110,270)
              }else{
                doc.text("    Date of departure : "+ localtime10,110,270)
              }
              
              doc.text("    Describe yourself : "+ dataget[countpdf].About_you,10,275)
              doc.text("    Responsibilities : "+ dataget[countpdf].Experiece,10,280)
              
              var dat = new Date();
              localtime11 = moment((dat)).format('YYYY-MM-DD')
            //   console.log(localtime11)
              doc.text("Date : "+ localtime11,165,290)
              doc.save(dataget[countpdf].ID+dataget[countpdf].First_Name + '.pdf')
              }
    </script>
        <script>
  
          dataget_deu = [];
          fetch('json/degree_university.json')
              .then(function (response) {
                  return response.json();
              })
              .then(function (myJson) {
                  dataget_deu = myJson.degree
                  get_degree()
              });
  
          dataget_fac_u = [];
          fetch('json/faculty_university.json')
              .then(function (response) {
                  return response.json();
              })
              .then(function (myJson) {
                  dataget_fac_u = myJson.faculty
                  get_faculty()
              });
          dataget_major_u = [];
          fetch('json/major_university.json')
              .then(function (response) {
                  return response.json();
              })
              .then(function (myJson) {
                  dataget_major_u = myJson.major
                  get_major()
              });
              
  
              dataget_de = [];
          fetch('json/degree_education.json')
              .then(function (response) {
                  return response.json();
              })
              .then(function (myJson) {
                  dataget_de = myJson.degree_education
                  get_de()
                  // console.log(dataget_de[1].name)
              });
  
          dataget_high = [];
          fetch('json/highschool.json')
              .then(function (response) {
                  return response.json();
              })
              .then(function (myJson) {
                dataget_high = myJson.school
                get_high()
              });
  
          function get_degree() {
  
          }
          function get_faculty() {
  
          }
          function get_major() {
  
          }
          function get_de() {
  
          }     
          function get_high() {
  
          }
      </script>
    
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" type="text/javascript"></script>
    <script src="js/moment.js"></script>
</body>

</html>