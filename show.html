<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Show</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap-grid.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <!-- <link rel="stylesheet" href="css/social.css"> -->
    <link rel="stylesheet" href="css/social_2.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="google" content="notranslate" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet">
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.5.0/css/all.css' integrity='sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU'
        crossorigin='anonymous'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css'>
    <link rel="stylesheet" href="css/show.css">
    <script type="text/javascript" src="js/session.js"></script>
    <style>
    .table-wrapper-scroll-y {
display: block;
max-height: 200px;
overflow-y: auto;
-ms-overflow-style: -ms-autohiding-scrollbar;
}
    </style>
    <script>
     if(Session.get("status") != 1){
      window.location.href='login.html';
     }
    </script>
    <script>
    
    </script>

    <script>
        var dataget ;
        var urljson = "https://script.googleusercontent.com/macros/echo?user_content_key=YqyDZdxWEJS-1VD3HmJyFI9BvM0A5G0iphXgnOTUPULhWNs15odVCFd5sYNaDSHk2eRS8CMAEH7Dz4211F5C_if3ieXETnZMm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnESenDeG1a2U5A9HgblmFIqgY1h708_S0WEz0UAVMSP1MOyWK_cu-E6ACoz3t86BEnltYe52Wkzn&lib=Mih9OC5pj5Vkn2Axmh0oYykMWxYDvAMv8";
        $.getJSON(urljson, function (data) {
            dataget = data.user
            console.log('dataget')
            console.log(dataget)
            // for (var i = 0; i < data.user.length; i++) {
            //     dataget[i] = [];
            //     dataget[i].time_stamp = JSON.stringify(data.user[i].time_stamp);
            //     dataget[i].ID = JSON.stringify(data.user[i].ID);
            //     dataget[i].Title_Name = JSON.stringify(data.user[i].Title_Name);
            //     dataget[i].First_Name = JSON.stringify(data.user[i].First_Name);
            //     dataget[i].Last_Name = JSON.stringify(data.user[i].Last_Name);
            //     dataget[i].Date_of_birth = JSON.stringify(data.user[i].Date_of_birth);
            //     dataget[i].Telephone_Number = JSON.stringify(data.user[i].Telephone_Number);
            //     dataget[i].Facebook = JSON.stringify(data.user[i].Facebook);
            //     dataget[i].Line = JSON.stringify(data.user[i].Line);
            //     dataget[i].Instagram = JSON.stringify(data.user[i].Instagram);
            //     dataget[i].Address_in_ID_Card = JSON.stringify(data.user[i].Address_in_ID_Card);
            //     dataget[i].Current_Address = JSON.stringify(data.user[i].Current_Address);
            //     dataget[i].Educational_institution = JSON.stringify(data.user[i].Educational_institution);
            //     dataget[i].GPAX = JSON.stringify(data.user[i].GPAX);
            //     dataget[i].Skill_programming = JSON.stringify(data.user[i].Skill_programming);
            //     dataget[i].Tool_for_development = JSON.stringify(data.user[i].Tool_for_development);
            //     dataget[i].Software_Package = JSON.stringify(data.user[i].Software_Package);
            //     dataget[i].Email_Address = JSON.stringify(data.user[i].Email_Address);
            //     dataget[i].Github = JSON.stringify(data.user[i].Github);
            //     dataget[i].Linkedin = JSON.stringify(data.user[i].Linkedin);
            //     dataget[i].Major = JSON.stringify(data.user[i].Major);
            //     dataget[i].Minor = JSON.stringify(data.user[i].Minor);
            //     dataget[i].About_you = JSON.stringify(data.user[i].About_you);
            //     dataget[i].Picture = JSON.stringify(data.user[i].Picture);
            //     dataget[i].Experiece = JSON.stringify(data.user[i].Experiece);
            //     dataget[i].Reference = JSON.stringify(data.user[i].Reference);


            // }
            console.log('dd', dataget[0].time_stamp)
            something();
            set();
        });
        function something() {
        }
    </script>
    <script>
        function timeout(){
        setTimeout(function(){ window.location = "login.html"; }, 900000);
        return hello()
        }
    </script>
</head>

<body onload="timeout()">
    <div class="container">

        <div class="container-fluid">
            <div class="row">
                <div class="col-8">
                    <div class="d-flex justify-content-start">
                        <div style="margin:10px;">
                            <form onsubmit="return getValue('commands')">
                                <b style="color:#696969">Search : </b><input type="text" name="commands" size="12"
                                    maxlength="8" id="commands" />
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    <div class="d-flex justify-content-end">
                        <button class="button" type="button" id="logout" value="logout" onclick="logout()">Logout</button>
                    </div>
                </div>
            </div>

        </div>
        <div class="colorful-4" style="margin:10px;border: solid;">
            <div class="container-fluid">
                <div class="row">
                    <div class="colsm-12 col-md-12 col-lg-9 col-xl-9">
                        <div style="border-bottom: solid;">
                            <div class="d-flex justify-content-start">
                                <div>
                                    <b>ID : </b><label id="uid"></label>
                                    <b>Name : </b><label id="tn"></label>&nbsp;<label id="name"></label>&nbsp;
                                    <label id="lname"></label>&nbsp;
                                </div>
                            </div>
                        </div>
                        <div style="border-bottom: solid;">
                            <div class="d-flex justify-content-start">
                                <div>
                                    <b>Tel. : </b><a id="tel" href="" style="color: #696969"></a><br>
                                    <b>E-mail : </b><label id="mail"></label><br>
                                    <b>About you : </b><label id="about"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="colsm-3 col-md-3 col-lg-3 col-xl-3">
                        <div class="d-flex justify-content-start" style="margin-top:10px">
                            <img id="pic" class="img-profile" src="uploads/asdasd.PNG" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6">
                        <div>
                            <div class="d-flex justify-content-start">
                                <div>
                                    <b>Skill : </b><label id="sp"></label><br>
                                    <!-- <label><b>Experiece : </b></label><br>
                                    <dd><b>2018</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Develop about Auto specific
                                        gravity meter</dd>
                                    <dd><b>2018</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Develop about Smart National
                                        Park 4.0 in Khao Yai National Park with Team Autumn in the
                                        Winter</dd>
                                    <dd><b>2017</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Develop about Predictive
                                        Monitoring Systems in Thai-Nichi Institute of Technology with
                                        Team BNT</dd> -->
                                    <b>Social : </b><label></label><a id="fb" href="" target="_blank" class="fa fa-facebook-official"></a><a
                                        id="ln" href="" target="_blank" class="fa fa-linkedin-square"></a><a id="git" href=""
                                        target="_blank" class="fa fa-github"></a><a id="line" href="" target="_blank"
                                        class="fab fa-line"></a><br>
                                    <b>Tool for development : </b><label id="tfp"></label><br>
                                    <b>Software package : </b><label id="spack"></label><br>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6">
                        <div>
                            <div class="d-flex justify-content-start">
                                <div>
                                    <label><b>Education : </b><label><br>
                                            <dt class="dt-tag">
                                                <b>University : </b><label id="university"></label></dt>
                                            <dd><b>Major : </b><label id="major"></label></dd>
                                            <dd><b>Minor : </b><label id="minor"></label></dd>
                                            <b>GPAX : </b><label id="gpa"></label><br>
                                            <b>Location : </b><label id="location"></label><br>
                                            <b>Reference : </b><label id="ref"></label><br>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="table-wrapper-scroll-y" style=" margin:10px;">
            <!-- <p id="showData"></p> -->
            <table id="jsonTable" style="visibility:hidden;width: 100%;">
                    <thead>
                        <tr>
                            <!-- The JSON downloaded from the URL above provides four attributes.-->
                            <th>UID</th>
                            <th>Skill programming</th>
                        </tr>
                    </thead>
                </table>
        </div>
        <script>
            function logout() {
                x = document.getElementById("logout").value
                if (x == "logout") {
                    alert("Logout successfully");
                    Session.set("status", '0');
                    window.location = "login.html"; // Redirecting to other page.
                    return false;

                }
            }
        </script>
        <script>
            var urlf, urlg, urlln, urlline, urldrive, face, git, link, line, drive;
            function set() {
                for (var i = 0; i < dataget.length; i++) {
                    // if (JSON.parse(dataget[i].ID) == getURL('id')) {
                    //     urlf = "https://www.facebook.com/";
                    //     urlg = "https://www.github.com/";
                    //     urlln = "https://www.linkedin.com/in/";
                    //     urlline = "https://line.me/ti/p/~";
                    //     urldrive = "https://drive.google.com/uc?id=";
                    //     splitpath = JSON.parse(dataget[i].Picture).split("\\");
                    //     face = urlf + JSON.parse(dataget[i].Facebook)
                    //     git = urlg + JSON.parse(dataget[i].Github);
                    //     link = urlln + JSON.parse(dataget[i].Linkedin);
                    //     line = urlline + JSON.parse(dataget[i].Line);
                    //     drive = urldrive + JSON.parse(dataget[i].Picture);
                    //     document.getElementById("uid").innerHTML = JSON.parse(dataget[i].ID);
                    //     document.getElementById("tn").innerHTML = JSON.parse(dataget[i].Title_Name);
                    //     document.getElementById("name").innerHTML = JSON.parse(dataget[i].First_Name);
                    //     document.getElementById("lname").innerHTML = JSON.parse(dataget[i].Last_Name);
                    //     document.getElementById("tel").innerHTML = "0" + dataget[i].Telephone_Number;
                    //     document.getElementById("fb").href = face;
                    //     document.getElementById("line").href = line;
                    //     document.getElementById("ln").href = link;
                    //     document.getElementById("git").href = git;
                    //     document.getElementById("gpa").innerHTML = dataget[i].GPAX;
                    //     document.getElementById("sp").innerHTML = JSON.parse(dataget[i].Skill_programming);
                    //     document.getElementById("tfp").innerHTML = JSON.parse(dataget[i].Tool_for_development);
                    //     document.getElementById("spack").innerHTML = JSON.parse(dataget[i].Software_Package);
                    //     document.getElementById("mail").innerHTML = JSON.parse(dataget[i].Email_Address);
                    //     document.getElementById("pic").src = 'uploads/' + splitpath[2];
                    //     document.getElementById("university").innerHTML = JSON.parse(dataget[i].Educational_institution);
                    //     document.getElementById("major").innerHTML = JSON.parse(dataget[i].Major);
                    //     document.getElementById("minor").innerHTML = JSON.parse(dataget[i].Minor);
                    //     document.getElementById("ref").innerHTML = JSON.parse(dataget[i].Reference);
                    //     document.getElementById("location").innerHTML = JSON.parse(dataget[i].Current_Address);
                    //     document.getElementById("about").innerHTML = JSON.parse(dataget[i].About_you);
                    //     break;
                    // }
                    if ((dataget[i].ID) == getURL('id')) {
                        urlf = "https://www.facebook.com/";
                        urlg = "https://www.github.com/";
                        urlln = "https://www.linkedin.com/in/";
                        urlline = "https://line.me/ti/p/~";
                        urldrive = "https://drive.google.com/uc?id=";
                        splitpath = (dataget[i].Picture).split("\\");
                        face = urlf + (dataget[i].Facebook)
                        git = urlg + (dataget[i].Github);
                        link = urlln + (dataget[i].Linkedin);
                        line = urlline + (dataget[i].Line);
                        drive = urldrive + (dataget[i].Picture);
                        document.getElementById("uid").innerHTML = (dataget[i].ID);
                        document.getElementById("tn").innerHTML = (dataget[i].Title_Name);
                        document.getElementById("name").innerHTML = (dataget[i].First_Name);
                        document.getElementById("lname").innerHTML = (dataget[i].Last_Name);
                        tel = "tel:0" + dataget[i].Telephone_Number
                        document.getElementById("tel").href = tel;
                        document.getElementById("tel").innerHTML = "0" + dataget[i].Telephone_Number;
                        console.log("tel:0" + dataget[i].Telephone_Number)
                        document.getElementById("fb").href = face;
                        document.getElementById("line").href = line;
                        document.getElementById("ln").href = link;
                        document.getElementById("git").href = git;
                        document.getElementById("gpa").innerHTML = dataget[i].GPAX;
                        document.getElementById("sp").innerHTML = (dataget[i].Skill_programming);
                        document.getElementById("tfp").innerHTML = (dataget[i].Tool_for_development);
                        document.getElementById("spack").innerHTML = (dataget[i].Software_Package);
                        document.getElementById("mail").innerHTML = (dataget[i].Email_Address);
                        document.getElementById("pic").src = 'uploads/' + splitpath[2];
                        document.getElementById("university").innerHTML = (dataget[i].Educational_institution);
                        document.getElementById("major").innerHTML = (dataget[i].Major);
                        document.getElementById("minor").innerHTML = (dataget[i].Minor);
                        document.getElementById("ref").innerHTML = (dataget[i].Reference);
                        document.getElementById("location").innerHTML = (dataget[i].Current_Address);
                        document.getElementById("about").innerHTML = (dataget[i].About_you);
                        break;
                    }
                }
            }
            function getURL(objN) {
                if (objN == null) {
                    return window.location.href;
                } else {
                    objN = objN.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
                    var regexS = "[\\?&]" + objN + "=([^&#]*)";
                    var regex = new RegExp(regexS);
                    var results = regex.exec(window.location.href);
                    if (results == null)
                        return "";
                    else
                        return results[1];
                }
            }
        </script>
        <script>
            function getValue(id) {
                text = document.getElementById(id).value; //value of the text input

                window.location.href = 'show.html?id=' + document.getElementById(id).value;
                return false;
            }
        </script>
        <script>
            var jsonget = [];
            $.getJSON(urljson, function (data) {
                for (var i = 0; i < data.user.length; i++) {
                    jsonget[i] = [];
                    jsonget[i].ID = JSON.stringify(data.user[i].ID);
                    jsonget[i].Skill_programming = JSON.stringify(data.user[i].Skill_programming);

                    jsonget[i].ID = JSON.parse(jsonget[i].ID)
                    jsonget[i].Skill_programming = JSON.parse(jsonget[i].Skill_programming)

                }
                something();
                CreateTableFromJSON();
            });
            function something() {

            }
        </script>

        <script>
            function CreateTableFromJSON() {
                var tabletget = [];
                // EXTRACT VALUE FOR HTML HEADER. 
                var col = [];
                for (var i = 0; i < jsonget.length; i++) {
                    for (var key in jsonget[i]) {
                        if (col.indexOf(key) === -1) {
                            col.push(key);
                        }
                    }
                }

                // CREATE DYNAMIC TABLE.
                var table = document.createElement("table");

                // CREATE HTML TABLE HEADER ROW USING THE EXTRACTED HEADERS ABOVE.

                var tr = table.insertRow(-1);                   // TABLE ROW.

                for (var i = 0; i < col.length; i++) {
                    var th = document.createElement("th");      // TABLE HEADER.
                    th.innerHTML = col[i];
                    tr.appendChild(th);
                    // tr.appendChild(<a href="#"></a>);
                    console.log(th.innerHTML = col[i])
                    // console.log(tr.appendChild(th))
                }

                // ADD JSON DATA TO THE TABLE AS ROWS.
                for (var i = 0; i < jsonget.length; i++) {

                    tr = table.insertRow(-1);
                    // console.log(tr)

                    for (var j = 0; j < col.length; j++) {
                        var tabCell = tr.insertCell(-1);
                        tabCell.innerHTML = jsonget[i][col[j]];
                        // console.log(typeof(jsonget[i][col[0]]))
                        // console.log(jsonget[i][col[0]])
                        // document.write('<a href="index.html">')
                        // document.write(jsonget[i].ID)
                        // document.write('</a>')
                        // console.log(jsonget[i].ID)
                        
                    }
                }

                // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
                // var divContainer = document.getElementById("showData");
                // divContainer.innerHTML = "";
                // divContainer.appendChild(table);
            }
        </script>
        <script type="text/javascript">
            function hello() {
                //+
                var kk = "show.html?id="
                var json;
                urljson = "https://script.googleusercontent.com/macros/echo?user_content_key=YqyDZdxWEJS-1VD3HmJyFI9BvM0A5G0iphXgnOTUPULhWNs15odVCFd5sYNaDSHk2eRS8CMAEH7Dz4211F5C_if3ieXETnZMm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnESenDeG1a2U5A9HgblmFIqgY1h708_S0WEz0UAVMSP1MOyWK_cu-E6ACoz3t86BEnltYe52Wkzn&lib=Mih9OC5pj5Vkn2Axmh0oYykMWxYDvAMv8";
                $.getJSON(urljson, function(data) {
                    json = data.user
                    console.log('dataget')
                    console.log(json)
                    $('#jsonTable').css("visibility", "visible").css("border", "1px solid green");
                    $('#jsonTable').append("<tbody>");
                    for (var counter = 0; counter < json.length; counter++) {
                        $('#jsonTable').append("<tr><td>" + '<a href="' + kk + '' + json[counter].ID + '">' + json[counter].ID + '</a>'+"</td><td>" +'<a href="' + kk + '' + json[counter].ID + '">'  + json[counter].Skill_programming + "</td></tr>");
                    }
                    $('#jsonTable').append("</tbody>");
                    $('th').css("border", "1px solid green");
                });
            }
        </script>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js" type="text/javascript"></script>
</body>

</html>